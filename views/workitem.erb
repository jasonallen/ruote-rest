
<% if @detailed %>

<div>
<div style="float: left; width: 63%;">

<% end %>


<div class="workitem">

  <div class="workitem_link"><a href="<%= @workitem.href %>">GET <%= @workitem.href %></a></div>

  <%= @detailed ? "<br/>" : "" %>

  <div>fei : <span class="workitem_fei"><%= @workitem.fei.to_s %></span></div>
  <div>participant : <span class="workitem_participant"><%= @workitem.participant_name %></span></div>
  <div>dispatch time : <span class="workitem_dispatch_time"><%= display_time @workitem, :dispatch_time %></span></div>

  <% if @detailed %>

    <div>last modified : <span class="workitem_last_modified"><%= display_time @workitem, :last_modified %></span></div>

    <br/>

    <form action="<%= @workitem.href %>" method="POST" enctype="multipart/form-data">
      <input type="hidden" name="_method" value="PUT" />

      attributes :<br/>
      <textarea name="attributes" cols="60" rows="12"><%= @workitem.attributes.to_json.to_s %></textarea>(json)<br/>

      proceed : <input type="checkbox" name="proceed" value="proceed" /><br/>

      <br/>

      <input type="submit" value="PUT <%= @workitem.href %>" />
    </form>

  <% end %>

</div>


<% if @detailed %>

</div>

<script src="/js/fluo-json.js"></script>
<script src="/js/fluo-can.js"></script>

<div style="float: right;">

  <!-- fluo -->

  <canvas id="fluo" width="50" height="50"></canvas>
  <script src="/processes/<%= @workitem.fei.wfid %>/representation?format=js"></script><!-- sets the 'proc_rep' var -->
  <script>
    FluoCan.renderFlow('fluo', proc_rep, []);
    FluoCan.crop('fluo');
    FluoCan.highlight('fluo', '<%= @workitem.fei.expid %>');
  </script>

</div>
<div style="clear: both;"></div>

<% end %>

